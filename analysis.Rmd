---
title: "Tooth Growth Analysis"
output: github_document
---

In this project, we are going to explore the ToothGrowth R dataset and do inferential data analysis aiming to answer the following questions: 

1 - Is there a relation between tooth length and supplement used? 

2 - Does changing the supplement dosage interfere with the tooth length?

The project is set in literate programming, allowing full research reproducibility.

## Tools Used

  - R language compiler
  - R base graphic devices
  - Tidyverse library packages
  - RMarkdown library package
  - Knitr library
    package

## Files

  - **[CODEBOOK](https://github.com/vcwild/tooth-growth/blob/master/analysis.pdf)**:
    step-by-step book explaining the code
    processing.
  - **[Figures](https://github.com/vcwild/tooth-growth/tree/master/analysis_files/figure-gfm)**:
    the plotted
    images
  - **[Infsim.Rmd](https://github.com/vcwild/tooth-growth/blob/master/analysis.Rmd)**:
    the script to compile the project from source


## CODEBOOK

## Setup

```{r setup, include=TRUE}
knitr::opts_chunk$set(echo = TRUE, cache = TRUE, warning = FALSE)
```

### Provide a basic summary of the data

Loading required packages and data set

```{r libs}
require(tidyverse)
data <- ToothGrowth
```

## Exploratory Data Analysis

### Summary of the data

```{r summary}
means <- data %>% 
    group_by(supp, dose) %>% 
    summarize(tooth.length = mean(len))

means
# Classes
nclass = round(sqrt(length(data$len)))
hist(data$len, col = "slateblue1", main = "Histogram of Tooth Length", xlab = "Tooth Length", nclass = nclass)

# OJ - orange juice
# VC - vitamin C
```


## Inferential Analysis

### Use confidence intervals and/or hypothesis tests to compare tooth growth by supp and dose

#### Hypotesis 1 - Relation between tooth length and the supplement used


```{r hypone}
# Separate value vectors for analysis
supp = data$supp

len_by_OJ = data$len[supp == "OJ"] # Mean
len_by_VC = data$len[supp == "VC"]

# T-test: non-paired, variance based on approx of df, t < mean
t.test(len_by_VC, len_by_OJ, conf.level = .95, var.equal = FALSE, paired = FALSE, alternative = "less")
```

The p-value shows strong evidence to reject the null hypothesis (pval < 0.05), indicating there is correlation between the tooth length and the supplement used.

### Hypothesis Conclusion

We can confirm with a 95% confidence interval that the tooth length by using Vitamin C across all dosages is less than that of Orange Juice, implying that the tooth length is directly affected by the supplement used.

#### Hypothesis 2 - Comparing tooth growth by dose

```{r hyptwoless}
# Separate value vectors for analysis
half = data$len[data$dose == .5]
one = data$len[data$dose == 1] # Mean
two = data$len[data$dose == 2]

# Dose one is considered the mean sample for testing

# T-test, non-paired, var by approx of df, t < mean
t.test(half, one, alternative = "less", paired = FALSE, var.equal = FALSE, conf.level = .95)
```

The p-value shows strong evidence to reject the null hypothesis (pval < 0.05), indicating there is correlation between lower supplement doses and tooth length.

```{r hyptwogreater}
# T-test, non-paired, var by approx of df, t > mean
t.test(two, one, alternative = "greater", paired = FALSE, var.equal = FALSE, conf.level = .95)
```

The p-value shows strong evidence to reject the null hypothesis (pval < 0.05), indicating there is correlation between higher supplement doses and tooth length.

### Hypothesis Conclusion

We can confirm with a 95% confidence interval that the supplement dosage rate interferes with tooth growth.

We can visualize this statement as the plot shows:

```{r concplot}
ggplot(data, aes(dose, len, group = supp, fill = supp)) +
    geom_bar(stat = "identity", position = "dodge", color = "white") +
    labs(
        x = "Dose",
        y = "Tooth Length",
        fill = "Supplement"
    ) +
    coord_flip() +
    theme_minimal()
```


